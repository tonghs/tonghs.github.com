---
author: ths
comments: true
date: 2011-03-16 07:58:00+00:00
layout: post
slug: mysql%e6%95%b0%e6%8d%ae%e5%ba%93%e6%96%87%e4%bb%b6%e8%87%aa%e5%8a%a8%e5%ae%89%e8%a3%85%e8%84%9a%e6%9c%ac%ef%bc%88%e6%89%b9%e5%a4%84%e7%90%86%ef%bc%89
title: mysql数据库文件自动安装脚本（批处理）
wordpress_id: 560
categories:
- 技术
tags:
- mysql
- 批处理
- 自动安装
---

今天领导提出要求，部署应用程序时数据库脚本要自动安装，于是写了如下脚本，并将sql脚本文件和mysql.exe与该脚本放到相同目录即可，当然可以用inno setup打包：





<





p>@echo off





<





p>:start  
set/p host=请输入mysql数据库ip：  
set/p username=请输入用户名：  
set/p password=请输入密码：  
echo %password%





<





p>echo 请确认您的输入：mysql数据库ip为：%host%，用户名为：%username%，密码为：





<





p>%password%  
set/p isCorrect=是否输入正确（1：正确 2：错误，重新输入）：





<





p>if /i %isCorrect%==1 goto execute  
if /i %isCorrect%==2 goto start





<





p>:execute  
echo 正在导入请稍候……





<





p>mysql -h %host% -u %username% -p%password% --default-character-set=utf8 <





<





p>picprocess.sql





<





p>echo 导入成功！！！





pause



