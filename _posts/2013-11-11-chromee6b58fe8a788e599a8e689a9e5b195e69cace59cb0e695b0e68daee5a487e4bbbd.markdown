---
author: ths
comments: true
date: 2013-11-11 12:28:43+00:00
layout: post
slug: chrome%e6%b5%8f%e8%a7%88%e5%99%a8%e6%89%a9%e5%b1%95%e6%9c%ac%e5%9c%b0%e6%95%b0%e6%8d%ae%e5%a4%87%e4%bb%bd
title: Chrome浏览器扩展本地数据备份
wordpress_id: 1269
categories:
- 技术
tags:
- chrome插件
---

在公司系统中做一个上百字段的表单，自测的时候每次都要手动填写，太抓狂了，于是想到自己写个chrome插件，填写一次，然后记录下来，下次刷新页面后点按钮就能把记录的内容填入，期间用到了扩展数据的备份，用如下代码：





输出Chrome扩展参数和数据的方法
在Chrome任意扩展的页面（选项或弹出页等），按F12调出“审查元素”Console控制台，输入如下代码，即可输出：




    
    <code>var L=localStorage,l=[];for (var i=0; i < L.length; i++){var k=L.key(i);var v=L.getItem(k);if(!v){v=''}l.push('{"k":"' +k+ '","v":"' + escape(v) + '"}');}console.log('['+l.join(',')+']');
    </code>





【导入Chrome扩展参数和数据的方法】
同样进入Console控制台，输入如下代码，即可导入




    
    <code>var b='备份字符串';var jA=eval('('+ b +')');for(var i=0;i<jA.length;i++){var j=jA[i];L[j.k]= unescape(j.v);}
    </code>



