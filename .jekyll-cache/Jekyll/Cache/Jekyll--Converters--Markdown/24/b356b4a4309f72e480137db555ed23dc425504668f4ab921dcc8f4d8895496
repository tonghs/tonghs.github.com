I"{<p>在服务端：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get update
sudo apt-get install nfs-kernel-server
</code></pre></div></div>

<p>创建要分享的目录：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cd /mnt/disk1
sudo mkdir nfs
</code></pre></div></div>

<p>配置路径权限：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo chown nobody:nogroup nfs
</code></pre></div></div>

<p>修改配置文件 /etc/exports</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/mnt/disk1/nfs *(rw,sync,no_root_squash,no_subtree_check)
</code></pre></div></div>

<p>关于一些参数的解释：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rw：挂接此目录的客户端对该共享目录具有读写权限
sync：资料同步写入内存和硬盘
no_root_squash：客户机用root访问该共享文件夹时，不映射root用户。（root_squash：客户机用root用户访问该共享文件夹时，将root用户映射成匿名用户）
no_subtree_check：不检查父目录的权限。
</code></pre></div></div>

<p>测试配置是否成功：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>showmount -e

Export list for iZ234u26ovsZ:
/mnt/disk1/nfs *
</code></pre></div></div>

<p>在客户端：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get update
sudo apt-get install nfs-common
</code></pre></div></div>

<p>创建挂载点：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkdir /mnt/nfs
</code></pre></div></div>

<p>挂载：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo mount -t nfs 10.161.177.101:/mnt/disk1/nfs /mnt/nfs
</code></pre></div></div>

<p>验证挂载：
在客户端 /mnt/nfs 中新建文件 1.txt，并写入一句话，然后去 server 端的 /mnt/disk1/nfs 中查看是否有该文件，并且文件内容是一样的。</p>

:ET