I"T<p>在 <code class="highlighter-rouge">OnlyRSS</code> 项目中用到了 feedparser，在使用中发现在解析一些 badurl 时会 block 掉，于是想设置解析超时时间，但是查文档发现 parser 方法没有超时参数。最后 google 到了 feedparser 项目中的 <a href="https://code.google.com/p/feedparser/issues/detail?id=221">issue221</a> 说的就是这个问题，其中有解决办法：</p>

<blockquote>
  <p>developers have had the ability to set a global timeout for over seven years by importing the socket library and setting the timeout in this way:</p>
</blockquote>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">import</span> <span class="nn">socket</span>
<span class="n">socket</span><span class="o">.</span><span class="n">setdefaulttimeout</span><span class="p">(</span><span class="o">&lt;</span><span class="n">timeout</span> <span class="ow">in</span> <span class="n">floating</span> <span class="n">seconds</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></div>
:ET