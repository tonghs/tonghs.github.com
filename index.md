---
layout: page
title: 仝华帅
disqus: false
published: true
---

仝华帅，男，1988 年，电子信息工程专业毕业。现就职于 `下厨房`，Python 后端开发，也做一些产品经理的事情。

邮箱：[tonghs@outlook.com](mailto:tonghs#outlook.com)，电话：18601980445。

####     
#### 工作经历

2017.12 至今 下厨房（https://xiachufang.com 目前最受欢迎的菜谱社区） 

    职责：研发和产品经理
    
    1. 程序化广告业务
    完成公司的程序化广告业务从 0 到 1。设计了客户端到后端完整方案架构和演进，日收入 5-10 万。我的工作主要包括下面几点：
    
    * 完成了程序化广告的前期探索：公司 2018 年左右开始尝试程序化广告的业务，最开始接入网易和 mobvista 两家 api 广告做尝试，尝试了开屏、信息流、搜索页和主页/菜谱详情页 banner 等多个位置，由于公司 app 的工具属性比较突出，总结出下面的规律：
      a. 搜索场景目的性强，虽然曝光很高，但 ctr 较低，不理想
      b. 首页 banner 和信息流广告位置固定，用户容易主动忽略，ctr 不高，给用户带来的打扰可能大于带来的收益，性价比不高
      c. 开屏 ecpm 比较高， ctr 也比较理想
      d. 菜谱详情页面流量最高
    后开始接入多家联盟广告（包括 sdk 和 api 形式），沟通了多家联盟，完整负责从确定不同位置的 ecpm 和接入方案，到接入后的数据跟踪和对齐。2019 年开始了解插屏和激励视频这两种广告形式，调查后发现激励视频的形式在公司 app 中没有合适的场景，而插屏由于用户体验的问题，也没有落地。由于开屏收入比较可观，菜谱详情页面流量较高并且打扰较少，最终确定了这两个位置。2020 年左右尝试接入了 rtb 广告。
    
    * 瀑布流模型的演进和多家模型竞争：在接入多家联盟的过程中，为了解决用户等待时间过长、广告库存过少、广告竞价不充分等等问题，和其他公司沟通学习，研究了其他联盟聚合平台的模型，设计了现在支持串并行、sdk/api 多接入、客户端后端 rtb 等等功能的瀑布流模型。为了尽可能提高效率，我们尝试了和 topon、车来了、快音等其他联盟聚合平台进行合作交流，比较各自的实现细节，多个模型 AB 同时跑量，综合看 arpu 值，目前其他平台都没有跑赢我们现有的模型。在和其他平台交流的过程中，也学习了对方的特点，比如与 topon 的交流中学习了 rtb 广告在瀑布流模型中的接入形式，以及对方采用的层级递补方式，完善了自有平台的更多细节。现在接入的联盟广告有 20 家左右，qps 2000+，两个广告位每天收入 5 - 10 万。
    
    * 接入多家联盟广告后，接入过程中的问题排查需求逐渐增多，于是设计了覆盖 app 启动、请求广告排期、填充、曝光、点击、竞价、缓存等完整流程的打点。打点数据前期使用离线分析，数据报表没有实时性，后使用 influxdb + grafana 搭建了实时监控系统，方便业务同事查看实时数据。最开始线上问题是业务同事几天后看数据发现，比较滞后也影响收入，于是又做了分钟级的广告指标的异常报警，从业务同事被动发现问题到问题出现主动报警。
    
    * 更多联盟广告交互方式优化、实时策略的切换、广告的缓存和冷热启动的优化等等
    

    2. 品牌广告业务
    主要负责品牌广告投放平台，主动参与业务工作流程，了解痛点并改进。我的工作主要包括下面几点：
    
    * 提高人效：和业务同时沟通时发现有很多重复的人工劳动，于是和业务一起盘点了一下工作，改进了报表系统，现在已经不需要人工整理数据，也从之前的技术每次手动导数据变为业务同事直接去报表后台就可以查看想要的数据。
    * 扩库存：因为公司的品牌广告相对比较固定，所以 cpt 投放方式可满足大部分需求，但对于预算不够的广告主不能负担一整天的流量成本，于是尝试了相对更灵活的投放方式，支持投放一天 1/n 的量，支持 Tanx/京东等多个第三方程序化广告，可以接入更多预算不足的广告主，提高了库存。探索更多广告场景和广告产品。
    * 广告系统的架构重构：投放系统最开始使用 python + redis，广告信息序列化成 json 存储到 redis 中，广告量逐渐变大后，大量 json 的序列化/反序列化的 cpu 密集型操作成为瓶颈。根据广告信息多为读操作并且变更不频繁的特点，使用 golang 重构到将广告信息定期 load 到本地内存中，减少了 redis io 操作，提升了性能。
	
    
    3. 会员业务
    会员业务产品需求&后端开发，我的工作主要包括下面几点：
    
    * 会员的接入：完成了 apple、微信、支付宝三个平台的会员接入，因为 apple 和 微信/支付宝的订阅方式不同，开发方式有差异，于是研究了三个平台的实现，抽象了一个第三方服务，该第三方服务来处理服务的订阅、退订、自动续费、管理合约等功能，对外只提供购买和获取订阅接口供公司不同的平台调用，调用方不需要关心 apple 和微信/支付宝的实现方式的不同。
    * 会员的退款：我们的政策允许用户在购买会员后也可以退款，即使会员已经开始消费，这样带来的问题是对于已经消费的会员费用如果已经结算给第三方，用户发生退款，历史的账不能修改，退款不能追回。为了支持退款，之前的做法是不改旧账，做一笔线下支出，缺点是退款需要人为参与，而且这部分支出平台全部承担。后面想到的做法是用户退款时在未来的账上做一笔负费用，已经结算给第三方的费用在未来的清分中追回。
    * 其他比如会员商品的有效消费、账单和对账、多种会员权益等等。
    
    
    4. 在线课程业务
    带领 3 人小组支持在线课程业务，包括项目管理、进度跟踪、产品梳理、系统架构、需求开发和性能优化。也曾经做了一些增长相关的事情。
    
    * 在线课程首页的模块化运营：在线课程页面有多个模块，之前模块的排序是客户端固定的，运营需要调整时需要技术参与，实时性不高，为了解决这个问题，抽象了首页的不同的模块，实现配置由后端下发，并且提供后台业务同事可以自由配置。
    * 用户增长 - 用户分层和精细化运营：尝试了从用户购买频次和最近购买时间两个维度将用户分层，对不同的分层用户做不同的推广策略，召回【过去常买现在不买】的用户，给【最近开始买】的用户推更多可能感兴趣的课程，研究【一直不买】的用户的拉新策略，最终向【最近常买】用户转化。
    
    
    技术栈：Python/Go/Redis/Hive/Spark/Quick BI/ES/腾讯云直播
    

2016.11 至 2017.12 FellowPlus（一级市场数据分析公司） 

    带 4 人小组，负责一级市场数据分析平台，和业务端一起完成需求梳理和具体的落地。平台包括一级市场公司的公开投融资数据收集、新闻收集以及工商股权信息收集和分析。
    
    * 公司会经常性的输出一些白皮书和行业报告，梳理了之前需要设计参与的通用的重复任务，引入 PowerBI 和 Tableau 做数据可视化，并在后期使用开源 BI 系统做二次开发。改善了报告的输出流程，完善数据宽表，配合 BI 工具提高人效，业务对数据的了解更加全面。之前需要业务、设计、技术重度参与的项目，只需要前期技术和后期设计轻度参与即可。
    * 原来需要手动做的公司和新闻的关联工作，尝试引入机器学习算法做新闻关联分析，并尝试了做正面/负面新闻的分析。
    * 早期没有类似企查查的股权结构查询平台，需要去工商信息网站人工查询，后来和业务沟通了解了具体痛点，收集了大部分工商信息，做了股权结构的关联，实现了类似企查查平台的股权穿透。
    
    
    技术栈：Python/分布式爬虫/Redis/MongoDB/MySQL/Kettle/ELK/Tableau/PowerBI
     

2014.6 至 2016.10 北京天使汇金融信息服务有限公司（一级市场股权信息平台）

    带 6 人小组开发一级市场股权信息平台。

	* 由于平台要求输入的信息非常多，所以表单比较多，早期一次性提交表单的做法并不好用，用户心智负担很重，有不少投诉。参考了一些多表单的系统，提出先做暂存和自动保存功能解决信息意外丢失，后面再做分步提交和更详细的步骤引导，并与产品和设计打磨细节，最终有效降低了客诉。
    * 尝试引入 docker 做开发环境统一和线上部署，减少环境配置工作，提高开发效率。

    技术栈：Python/异步任务/MongoDB/Redis/CoffeeScript/AvalonJS/Gulp/Docker。

2014.1 至 2014.6 42区团队

	后端开发（全栈）。
    职责：Python 周刊业务。

    技术栈：Python/Tornado/Mako/CoffeeScript/GAE
    

2011.2 - 2014.1 北京利达智通信息技术有限公司

    中国业务事业部研发。
    企业系统、医疗系统、BI 开发。

	技术栈：C#/SQLServer/Java/MySQL/Liferay/Spotfire/Kettle

####    
#### GitHub
[https://github.com/tonghs](https://github.com/tonghs)
